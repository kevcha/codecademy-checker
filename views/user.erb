<h1><%= params[:nickname] %></h1>

<h2>Track Ruby</h2>

<% percentage = @ruby_badges.count / 19.0 * 100.0 %>

<% if percentage > 70 %>
  <span style="color: green; font-size: 32px"><%= percentage.round %>%</span>
<% else %>
  <span style="color: red; font-size: 32px"><%= percentage.round %>%</span>
<% end %>

<ul>
  <% @ruby_badges.each do |badge| %>
    <li><%= badge.title %></li>
  <% end %>
</ul>

<h2>Track Web</h2>

<% percentage = @web_badges.count.fdiv(WEB_BADGES_EN.count) * 100.0 %>

<% if percentage > 70 %>
  <span style="color: green; font-size: 32px"><%= percentage.round %>%</span>
<% else %>
  <span style="color: red; font-size: 32px"><%= percentage.round %>%</span>
<% end %>

<ul>
  <% @web_badges.each do |badge| %>
    <li><%= badge.title %></li>
  <% end %>
</ul>

<h2>Track Python</h2>

<% percentage = @python_badges.count / 21.0 * 100.0 %>

<% if percentage > 70 %>
  <span style="color: green; font-size: 32px"><%= percentage.round %>%</span>
<% else %>
  <span style="color: red; font-size: 32px"><%= percentage.round %>%</span>
<% end %>

<ul>
  <% @python_badges.each do |badge| %>
    <li><%= badge.title %></li>
  <% end %>
</ul>